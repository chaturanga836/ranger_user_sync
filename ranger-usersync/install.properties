###########################################################################
#                 Apache Ranger Usersync Configuration                    #
###########################################################################

# Base directory for ranger
ranger_base_dir=/opt/ranger-usersync

# URL of the Ranger Admin service
POLICY_MGR_URL=http://ec2-65-0-150-75.ap-south-1.compute.amazonaws.com:6080

# Sync source: choose between "unix" or "ldap"
SYNC_SOURCE=ldap

SYNC_ENABLE_USER_CREATION=true
SYNC_ENABLE_GROUP_CREATION=true

# Sync interval in minutes (e.g., sync every 5 minutes)
SYNC_INTERVAL=5

# Minimum Unix UID/GID to sync (not used for LDAP)
# MIN_UNIX_USER_ID_TO_SYNC=500
# MIN_UNIX_GROUP_ID_TO_SYNC=500

# System user/group running usersync
unix_user=ranger
unix_group=ranger

# Policy Manager (Ranger Admin) credentials
rangerUsersync_password=Usersync@123

# Kerberos (optional)
usersync_principal=
usersync_keytab=

# Hadoop conf dir (can stay as is if not using HDFS)
hadoop_conf=/etc/hadoop/conf

# Credential keystore file (auto-created by setup.sh)
CRED_KEYSTORE_FILENAME=/opt/ranger-usersync/conf/rangerusersync.jceks

# SSL (disabled by default)
# AUTH_SSL_ENABLED=false
# AUTH_SSL_KEYSTORE_FILE=
# AUTH_SSL_KEYSTORE_PASSWORD=
# AUTH_SSL_TRUSTSTORE_FILE=
# AUTH_SSL_TRUSTSTORE_PASSWORD=

# LDAP connection info
SYNC_LDAP_URL=ldaps://ldap-server:636
SYNC_LDAP_BIND_DN=cn=admin,dc=example,dc=com
SYNC_LDAP_BIND_PASSWORD=admin123
SYNC_LDAP_DELTASYNC=false

# LDAP search base
SYNC_LDAP_SEARCH_BASE=dc=example,dc=com

# LDAP user search configuration
SYNC_LDAP_USER_SEARCH_BASE=dc=example,dc=com
SYNC_LDAP_USER_SEARCH_SCOPE=sub
SYNC_LDAP_USER_OBJECT_CLASS=inetOrgPerson
SYNC_LDAP_USER_SEARCH_FILTER=(uid=*)
SYNC_LDAP_USER_NAME_ATTRIBUTE=uid
SYNC_LDAP_USER_GROUP_NAME_ATTRIBUTE=
SYNC_LDAP_USERNAME_CASE_CONVERSION=lower
SYNC_LDAP_GROUPNAME_CASE_CONVERSION=lower

# LDAP group search configuration
SYNC_GROUP_SEARCH_ENABLED=true
SYNC_GROUP_USER_MAP_SYNC_ENABLED=true
SYNC_GROUP_SEARCH_BASE=dc=example,dc=com
SYNC_GROUP_SEARCH_SCOPE=sub
SYNC_GROUP_OBJECT_CLASS=groupOfNames
SYNC_LDAP_GROUP_SEARCH_FILTER=(objectClass=groupOfNames)
SYNC_GROUP_NAME_ATTRIBUTE=cn
SYNC_GROUP_MEMBER_ATTRIBUTE_NAME=

# Paging
SYNC_PAGED_RESULTS_ENABLED=true
SYNC_PAGED_RESULTS_SIZE=500
SYNC_LDAP_REFERRAL=follow

# Logging and PID paths
logdir=/opt/ranger-usersync/logs
USERSYNC_PID_DIR_PATH=/opt/ranger-usersync/run

# JVM metrics (optional)
JVM_METRICS_ENABLED=false

###########################################################################
#                       END OF CONFIGURATION                              #
###########################################################################

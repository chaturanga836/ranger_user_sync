###########################################################################
#                 Apache Ranger Usersync Configuration                    #
###########################################################################

# Base directory for ranger
ranger_base_dir=/etc/ranger

# URL of the Ranger Admin service
POLICY_MGR_URL=http://ec2-65-0-150-75.ap-south-1.compute.amazonaws.com:6080

# Sync source: choose between "unix" or "ldap"
SYNC_SOURCE=ldap

# Sync interval in minutes (e.g., sync every 5 minutes)
SYNC_INTERVAL=5

# Minimum Unix UID/GID to sync (not used for LDAP)
MIN_UNIX_USER_ID_TO_SYNC=500
MIN_UNIX_GROUP_ID_TO_SYNC=500

# System user/group running usersync
unix_user=ranger
unix_group=ranger

# Policy Manager (Ranger Admin) credentials
rangerUsersync_password=admin

# Kerberos (optional)
usersync_principal=
usersync_keytab=

# Hadoop conf dir (can stay as is if not using HDFS)
hadoop_conf=/etc/hadoop/conf

# Credential keystore file (auto-created by setup.sh)
CRED_KEYSTORE_FILENAME=/etc/ranger/usersync/conf/rangerusersync.jceks

# SSL (disabled by default)
AUTH_SSL_ENABLED=false
AUTH_SSL_KEYSTORE_FILE=/etc/ranger/usersync/conf/cert/unixauthservice.jks
AUTH_SSL_KEYSTORE_PASSWORD=UnIx529p
AUTH_SSL_TRUSTSTORE_FILE=
AUTH_SSL_TRUSTSTORE_PASSWORD=

# LDAP connection info
SYNC_LDAP_URL=ldap://ldap-server:1389
SYNC_LDAP_BIND_DN=cn=admin,dc=example,dc=com
SYNC_LDAP_BIND_PASSWORD=admin123
SYNC_LDAP_DELTASYNC=false

# LDAP search base
SYNC_LDAP_SEARCH_BASE=dc=example,dc=com

# LDAP user search configuration
SYNC_LDAP_USER_SEARCH_BASE=ou=users,dc=example,dc=com
SYNC_LDAP_USER_SEARCH_SCOPE=sub
SYNC_LDAP_USER_OBJECT_CLASS=inetOrgPerson
SYNC_LDAP_USER_SEARCH_FILTER=
SYNC_LDAP_USER_NAME_ATTRIBUTE=uid
SYNC_LDAP_USER_GROUP_NAME_ATTRIBUTE=memberof,ismemberof
SYNC_LDAP_USERNAME_CASE_CONVERSION=lower
SYNC_LDAP_GROUPNAME_CASE_CONVERSION=lower

# LDAP group search configuration
SYNC_GROUP_SEARCH_ENABLED=true
SYNC_GROUP_USER_MAP_SYNC_ENABLED=true
SYNC_GROUP_SEARCH_BASE=ou=groups,dc=example,dc=com
SYNC_GROUP_SEARCH_SCOPE=sub
SYNC_GROUP_OBJECT_CLASS=groupOfNames
SYNC_LDAP_GROUP_SEARCH_FILTER=
SYNC_GROUP_NAME_ATTRIBUTE=cn
SYNC_GROUP_MEMBER_ATTRIBUTE_NAME=member

# Paging
SYNC_PAGED_RESULTS_ENABLED=true
SYNC_PAGED_RESULTS_SIZE=500
SYNC_LDAP_REFERRAL=follow

# Logging and PID paths
logdir=/etc/ranger/usersync/logs
USERSYNC_PID_DIR_PATH=/var/run/ranger

# JVM metrics (optional)
JVM_METRICS_ENABLED=false

###########################################################################
#                       END OF CONFIGURATION                              #
###########################################################################
